{% extends 'base.html' %}

{% block heading %}
<h1>{{ student_id }}</h1>
{% endblock %}

{% block content %}
<div id="studentAttendance"></div>
{% endblock %}

  
{% block script %}
<script>

function getStudentAttendance(){
  var objData = {
    'time_range': $('#timeRange').val(),
    'student_id': '{{ student_id }}'
  };
  getData('/get_student_attendance', objData, function(data){
    console.log(data);
    studentAttendanceHtml = '';
    if(data['is_present']){
      studentAttendanceHtml += '<p>Present</p>';
    }
    else{
      studentAttendanceHtml += '<p>Absent</p>';
    }
    $('#studentAttendance').html(studentAttendanceHtml);
  });
};

function getEverything(){
  $('#timeRangeVal').html($('#timeRange').val());
  getStudentAttendance();
}

$(document).ready(function(){
  getEverything();
});
</script>
{% endblock %}